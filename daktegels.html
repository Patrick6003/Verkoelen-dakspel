<!DOCTYPE html>
<html>
<head>
    <title>Daktegels Vangen - Dakspecialisten Weert</title>
    <style>
        canvas {
            border: 2px solid #333;
            background: #87CEEB;
        }
        body {
            text-align: center;
            font-family: Arial, sans-serif;
            background: #f0f0f0;
        }
        #score {
            font-size: 24px;
            margin: 10px;
        }
    </style>
</head>
<body>
    <h1>Daktegels Vangen</h1>
    <p>Gebruik ← en → om de emmer te bewegen en dakpannen te vangen!</p>
    <div id="score">Score: 0</div>
    <canvas id="gameCanvas" width="800" height="600"></canvas>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const scoreDisplay = document.getElementById('score');

        // Spelobjecten
        let bucket = {
            x: canvas.width / 2 - 25,
            y: canvas.height - 50,
            width: 50,
            height: 30,
            speed: 5
        };

        let tiles = [];
        let score = 0;
        let gameSpeed = 2;
        let gameOver = false;

        // Beweging emmer
        let leftPressed = false;
        let rightPressed = false;

        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft') leftPressed = true;
            if (e.key === 'ArrowRight') rightPressed = true;
        });

        document.addEventListener('keyup', (e) => {
            if (e.key === 'ArrowLeft') leftPressed = false;
            if (e.key === 'ArrowRight') rightPressed = false;
        });

        // Nieuwe tegel maken
        function spawnTile() {
            let tile = {
                x: Math.random() * (canvas.width - 20),
                y: -20,
                width: 20,
                height: 20,
                speed: gameSpeed
            };
            tiles.push(tile);
        }

        // Spelupdate
        function update() {
            if (gameOver) return;

            // Emmer bewegen
            if (leftPressed && bucket.x > 0) bucket.x -= bucket.speed;
            if (rightPressed && bucket.x < canvas.width - bucket.width) bucket.x += bucket.speed;

            // Nieuwe tegel spawnen (gemiddeld elke seconde)
            if (Math.random() < 0.02) spawnTile();

            // Update tegels
            for (let i = tiles.length - 1; i >= 0; i--) {
                tiles[i].y += tiles[i].speed;

                // Check botsing met emmer
                if (tiles[i].y + tiles[i].height > bucket.y &&
                    tiles[i].x > bucket.x && 
                    tiles[i].x < bucket.x + bucket.width) {
                    score += 10;
                    tiles.splice(i, 1);
                    gameSpeed += 0.1; // Verhoog moeilijkheid
                    continue;
                }

                // Game over als tegel grond raakt
                if (tiles[i].y > canvas.height) {
                    gameOver = true;
                    alert(`Game Over! Jouw score: ${score}`);
                }
            }

            scoreDisplay.textContent = `Score: ${score}`;
        }

        // Tekenen
        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Teken emmer
            ctx.fillStyle = '#666';
            ctx.fillRect(bucket.x, bucket.y, bucket.width, bucket.height);

            // Teken tegels
            ctx.fillStyle = '#8B4513';
            tiles.forEach(tile => {
                ctx.fillRect(tile.x, tile.y, tile.width, tile.height);
            });
        }

        // Game loop
        function gameLoop() {
            update();
            draw();
            requestAnimationFrame(gameLoop);
        }

        // Start spel
        gameLoop();
    </script>
</body>
</html>
